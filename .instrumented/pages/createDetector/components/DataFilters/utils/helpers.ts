function cov_2osgvj7xd6() {
  var path = "/Users/yizheliu/casesafe/workspace/kibana-780/kibana/plugins/anomaly-detection-kibana-plugin/public/pages/createDetector/components/DataFilters/utils/helpers.ts";
  var hash = "796a781ddfe717ab61dfd1e41c59ac19894a9189";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/yizheliu/casesafe/workspace/kibana-780/kibana/plugins/anomaly-detection-kibana-plugin/public/pages/createDetector/components/DataFilters/utils/helpers.ts",
    statementMap: {
      "0": {
        start: {
          line: 25,
          column: 23
        },
        end: {
          line: 30,
          column: 1
        }
      },
      "1": {
        start: {
          line: 32,
          column: 30
        },
        end: {
          line: 45,
          column: 20
        }
      },
      "2": {
        start: {
          line: 33,
          column: 2
        },
        end: {
          line: 45,
          column: 20
        }
      },
      "3": {
        start: {
          line: 35,
          column: 6
        },
        end: {
          line: 43,
          column: 14
        }
      },
      "4": {
        start: {
          line: 38,
          column: 55
        },
        end: {
          line: 41,
          column: 13
        }
      },
      "5": {
        start: {
          line: 47,
          column: 28
        },
        end: {
          line: 54,
          column: 3
        }
      },
      "6": {
        start: {
          line: 48,
          column: 2
        },
        end: {
          line: 54,
          column: 3
        }
      },
      "7": {
        start: {
          line: 50,
          column: 6
        },
        end: {
          line: 52,
          column: 13
        }
      },
      "8": {
        start: {
          line: 56,
          column: 31
        },
        end: {
          line: 59,
          column: 3
        }
      },
      "9": {
        start: {
          line: 57,
          column: 2
        },
        end: {
          line: 59,
          column: 3
        }
      },
      "10": {
        start: {
          line: 61,
          column: 30
        },
        end: {
          line: 62,
          column: 79
        }
      },
      "11": {
        start: {
          line: 62,
          column: 2
        },
        end: {
          line: 62,
          column: 79
        }
      },
      "12": {
        start: {
          line: 64,
          column: 27
        },
        end: {
          line: 85,
          column: 1
        }
      },
      "13": {
        start: {
          line: 65,
          column: 20
        },
        end: {
          line: 65,
          column: 64
        }
      },
      "14": {
        start: {
          line: 66,
          column: 2
        },
        end: {
          line: 68,
          column: 3
        }
      },
      "15": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 67,
          column: 26
        }
      },
      "16": {
        start: {
          line: 69,
          column: 27
        },
        end: {
          line: 69,
          column: 42
        }
      },
      "17": {
        start: {
          line: 70,
          column: 22
        },
        end: {
          line: 72,
          column: 19
        }
      },
      "18": {
        start: {
          line: 71,
          column: 16
        },
        end: {
          line: 71,
          column: 51
        }
      },
      "19": {
        start: {
          line: 73,
          column: 22
        },
        end: {
          line: 73,
          column: 56
        }
      },
      "20": {
        start: {
          line: 75,
          column: 2
        },
        end: {
          line: 84,
          column: 3
        }
      },
      "21": {
        start: {
          line: 76,
          column: 23
        },
        end: {
          line: 76,
          column: 56
        }
      },
      "22": {
        start: {
          line: 77,
          column: 21
        },
        end: {
          line: 77,
          column: 52
        }
      },
      "23": {
        start: {
          line: 78,
          column: 4
        },
        end: {
          line: 78,
          column: 62
        }
      },
      "24": {
        start: {
          line: 79,
          column: 9
        },
        end: {
          line: 84,
          column: 3
        }
      },
      "25": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 80,
          column: 28
        }
      },
      "26": {
        start: {
          line: 82,
          column: 18
        },
        end: {
          line: 82,
          column: 47
        }
      },
      "27": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 83,
          column: 37
        }
      },
      "28": {
        start: {
          line: 87,
          column: 29
        },
        end: {
          line: 98,
          column: 1
        }
      },
      "29": {
        start: {
          line: 91,
          column: 2
        },
        end: {
          line: 91,
          column: 55
        }
      },
      "30": {
        start: {
          line: 91,
          column: 37
        },
        end: {
          line: 91,
          column: 55
        }
      },
      "31": {
        start: {
          line: 92,
          column: 2
        },
        end: {
          line: 94,
          column: 3
        }
      },
      "32": {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 93,
          column: 43
        }
      },
      "33": {
        start: {
          line: 95,
          column: 2
        },
        end: {
          line: 97,
          column: 3
        }
      },
      "34": {
        start: {
          line: 96,
          column: 4
        },
        end: {
          line: 96,
          column: 46
        }
      },
      "35": {
        start: {
          line: 100,
          column: 32
        },
        end: {
          line: 107,
          column: 1
        }
      },
      "36": {
        start: {
          line: 101,
          column: 2
        },
        end: {
          line: 106,
          column: 3
        }
      },
      "37": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 102,
          column: 22
        }
      },
      "38": {
        start: {
          line: 104,
          column: 4
        },
        end: {
          line: 104,
          column: 35
        }
      },
      "39": {
        start: {
          line: 105,
          column: 4
        },
        end: {
          line: 105,
          column: 26
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 32,
            column: 30
          },
          end: {
            line: 32,
            column: 31
          }
        },
        loc: {
          start: {
            line: 33,
            column: 2
          },
          end: {
            line: 45,
            column: 20
          }
        },
        line: 33
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 34,
            column: 9
          },
          end: {
            line: 34,
            column: 10
          }
        },
        loc: {
          start: {
            line: 35,
            column: 6
          },
          end: {
            line: 43,
            column: 14
          }
        },
        line: 35
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 38,
            column: 45
          },
          end: {
            line: 38,
            column: 46
          }
        },
        loc: {
          start: {
            line: 38,
            column: 55
          },
          end: {
            line: 41,
            column: 13
          }
        },
        line: 38
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 47,
            column: 28
          },
          end: {
            line: 47,
            column: 29
          }
        },
        loc: {
          start: {
            line: 48,
            column: 2
          },
          end: {
            line: 54,
            column: 3
          }
        },
        line: 48
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 49,
            column: 5
          }
        },
        loc: {
          start: {
            line: 50,
            column: 6
          },
          end: {
            line: 52,
            column: 13
          }
        },
        line: 50
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 56,
            column: 31
          },
          end: {
            line: 56,
            column: 32
          }
        },
        loc: {
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 59,
            column: 3
          }
        },
        line: 57
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 61,
            column: 30
          },
          end: {
            line: 61,
            column: 31
          }
        },
        loc: {
          start: {
            line: 62,
            column: 2
          },
          end: {
            line: 62,
            column: 79
          }
        },
        line: 62
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 64,
            column: 27
          },
          end: {
            line: 64,
            column: 28
          }
        },
        loc: {
          start: {
            line: 64,
            column: 57
          },
          end: {
            line: 85,
            column: 1
          }
        },
        line: 64
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 71,
            column: 5
          }
        },
        loc: {
          start: {
            line: 71,
            column: 16
          },
          end: {
            line: 71,
            column: 51
          }
        },
        line: 71
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 87,
            column: 29
          },
          end: {
            line: 87,
            column: 30
          }
        },
        loc: {
          start: {
            line: 90,
            column: 25
          },
          end: {
            line: 98,
            column: 1
          }
        },
        line: 90
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 100,
            column: 32
          },
          end: {
            line: 100,
            column: 33
          }
        },
        loc: {
          start: {
            line: 100,
            column: 51
          },
          end: {
            line: 107,
            column: 1
          }
        },
        line: 100
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 35,
            column: 6
          },
          end: {
            line: 43,
            column: 14
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 36,
            column: 10
          },
          end: {
            line: 42,
            column: 11
          }
        }, {
          start: {
            line: 43,
            column: 10
          },
          end: {
            line: 43,
            column: 14
          }
        }],
        line: 35
      },
      "1": {
        loc: {
          start: {
            line: 50,
            column: 6
          },
          end: {
            line: 52,
            column: 13
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 51,
            column: 10
          },
          end: {
            line: 51,
            column: 80
          }
        }, {
          start: {
            line: 52,
            column: 10
          },
          end: {
            line: 52,
            column: 13
          }
        }],
        line: 50
      },
      "2": {
        loc: {
          start: {
            line: 66,
            column: 2
          },
          end: {
            line: 68,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 2
          },
          end: {
            line: 68,
            column: 3
          }
        }, {
          start: {
            line: 66,
            column: 2
          },
          end: {
            line: 68,
            column: 3
          }
        }],
        line: 66
      },
      "3": {
        loc: {
          start: {
            line: 70,
            column: 22
          },
          end: {
            line: 72,
            column: 19
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 22
          },
          end: {
            line: 72,
            column: 3
          }
        }, {
          start: {
            line: 72,
            column: 7
          },
          end: {
            line: 72,
            column: 19
          }
        }],
        line: 70
      },
      "4": {
        loc: {
          start: {
            line: 75,
            column: 2
          },
          end: {
            line: 84,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 75,
            column: 2
          },
          end: {
            line: 84,
            column: 3
          }
        }, {
          start: {
            line: 75,
            column: 2
          },
          end: {
            line: 84,
            column: 3
          }
        }],
        line: 75
      },
      "5": {
        loc: {
          start: {
            line: 79,
            column: 9
          },
          end: {
            line: 84,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 9
          },
          end: {
            line: 84,
            column: 3
          }
        }, {
          start: {
            line: 79,
            column: 9
          },
          end: {
            line: 84,
            column: 3
          }
        }],
        line: 79
      },
      "6": {
        loc: {
          start: {
            line: 91,
            column: 2
          },
          end: {
            line: 91,
            column: 55
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 91,
            column: 2
          },
          end: {
            line: 91,
            column: 55
          }
        }, {
          start: {
            line: 91,
            column: 2
          },
          end: {
            line: 91,
            column: 55
          }
        }],
        line: 91
      },
      "7": {
        loc: {
          start: {
            line: 91,
            column: 6
          },
          end: {
            line: 91,
            column: 35
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 91,
            column: 6
          },
          end: {
            line: 91,
            column: 19
          }
        }, {
          start: {
            line: 91,
            column: 23
          },
          end: {
            line: 91,
            column: 35
          }
        }],
        line: 91
      },
      "8": {
        loc: {
          start: {
            line: 92,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 92,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        }, {
          start: {
            line: 92,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        }],
        line: 92
      },
      "9": {
        loc: {
          start: {
            line: 92,
            column: 6
          },
          end: {
            line: 92,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 92,
            column: 6
          },
          end: {
            line: 92,
            column: 32
          }
        }, {
          start: {
            line: 92,
            column: 36
          },
          end: {
            line: 92,
            column: 70
          }
        }],
        line: 92
      },
      "10": {
        loc: {
          start: {
            line: 95,
            column: 2
          },
          end: {
            line: 97,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 2
          },
          end: {
            line: 97,
            column: 3
          }
        }, {
          start: {
            line: 95,
            column: 2
          },
          end: {
            line: 97,
            column: 3
          }
        }],
        line: 95
      },
      "11": {
        loc: {
          start: {
            line: 95,
            column: 6
          },
          end: {
            line: 95,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 95,
            column: 6
          },
          end: {
            line: 95,
            column: 34
          }
        }, {
          start: {
            line: 95,
            column: 38
          },
          end: {
            line: 95,
            column: 74
          }
        }],
        line: 95
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "796a781ddfe717ab61dfd1e41c59ac19894a9189"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2osgvj7xd6 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_2osgvj7xd6();

/*
 * Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * or in the "license" file accompanying this file. This file is distributed
 * on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
 * express or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
import { get } from 'lodash';
import { COMPARISON_OPERATORS, OPERATORS_MAP, COMPARISON_OPERATOR } from './constant';
import { DATA_TYPES } from '../../../../../utils/constants';
import { UIFilter } from '../../../../../models/interfaces';
const allowedFilters = (cov_2osgvj7xd6().s[0]++, [DATA_TYPES.BOOLEAN, DATA_TYPES.KEYWORD, DATA_TYPES.NUMBER, DATA_TYPES.TEXT]);
cov_2osgvj7xd6().s[1]++;
export const getIndexFields = (allFields: {
  [key: string]: string[];
}) => {
  cov_2osgvj7xd6().f[0]++;
  cov_2osgvj7xd6().s[2]++;
  return allowedFilters.map(dataType => {
    cov_2osgvj7xd6().f[1]++;
    cov_2osgvj7xd6().s[3]++;
    return allFields[dataType] ? (cov_2osgvj7xd6().b[0][0]++, {
      label: dataType,
      options: allFields[dataType].map(field => {
        cov_2osgvj7xd6().f[2]++;
        cov_2osgvj7xd6().s[4]++;
        return {
          label: field,
          type: dataType
        };
      })
    }) : (cov_2osgvj7xd6().b[0][1]++, null);
  }).filter(Boolean);
};
cov_2osgvj7xd6().s[5]++;
export const getOperators = (fieldType: DATA_TYPES): any[] => {
  cov_2osgvj7xd6().f[3]++;
  cov_2osgvj7xd6().s[6]++;
  return COMPARISON_OPERATORS.reduce((acc: any[], currentOperator: COMPARISON_OPERATOR) => {
    cov_2osgvj7xd6().f[4]++;
    cov_2osgvj7xd6().s[7]++;
    return currentOperator.dataTypes.includes(fieldType) ? (cov_2osgvj7xd6().b[1][0]++, [...acc, {
      text: currentOperator.text,
      value: currentOperator.value
    }]) : (cov_2osgvj7xd6().b[1][1]++, acc);
  }, []);
};
cov_2osgvj7xd6().s[8]++;
export const isRangeOperator = (selectedOperator: OPERATORS_MAP): boolean => {
  cov_2osgvj7xd6().f[5]++;
  cov_2osgvj7xd6().s[9]++;
  return [OPERATORS_MAP.IN_RANGE, OPERATORS_MAP.NOT_IN_RANGE].includes(selectedOperator);
};
cov_2osgvj7xd6().s[10]++;
export const isNullOperator = (selectedOperator: OPERATORS_MAP): boolean => {
  cov_2osgvj7xd6().f[6]++;
  cov_2osgvj7xd6().s[11]++;
  return [OPERATORS_MAP.IS_NULL, OPERATORS_MAP.IS_NOT_NULL].includes(selectedOperator);
};
cov_2osgvj7xd6().s[12]++;
export const displayText = (filter: UIFilter): string => {
  cov_2osgvj7xd6().f[7]++;
  const fieldName = (cov_2osgvj7xd6().s[13]++, get(filter, 'fieldInfo[0].label', undefined));
  cov_2osgvj7xd6().s[14]++;

  if (!fieldName) {
    cov_2osgvj7xd6().b[2][0]++;
    cov_2osgvj7xd6().s[15]++;
    return 'Filter query';
  } else {
    cov_2osgvj7xd6().b[2][1]++;
  }

  const selectedOperator = (cov_2osgvj7xd6().s[16]++, filter.operator);
  const operatorObj = (cov_2osgvj7xd6().s[17]++, (cov_2osgvj7xd6().b[3][0]++, COMPARISON_OPERATORS.find(operator => {
    cov_2osgvj7xd6().f[8]++;
    cov_2osgvj7xd6().s[18]++;
    return operator.value === selectedOperator;
  })) || (cov_2osgvj7xd6().b[3][1]++, {
    text: ''
  }));
  const initialText = (cov_2osgvj7xd6().s[19]++, `${fieldName} ${operatorObj.text}`);
  cov_2osgvj7xd6().s[20]++;

  if (isRangeOperator(selectedOperator)) {
    cov_2osgvj7xd6().b[4][0]++;
    const startRange = (cov_2osgvj7xd6().s[21]++, get(filter, 'fieldRangeStart', 0));
    const endRange = (cov_2osgvj7xd6().s[22]++, get(filter, 'fieldRangeEnd', 0));
    cov_2osgvj7xd6().s[23]++;
    return `${initialText} from ${startRange} to ${endRange}`;
  } else {
    cov_2osgvj7xd6().b[4][1]++;
    cov_2osgvj7xd6().s[24]++;

    if (isNullOperator(selectedOperator)) {
      cov_2osgvj7xd6().b[5][0]++;
      cov_2osgvj7xd6().s[25]++;
      return `${initialText}`;
    } else {
      cov_2osgvj7xd6().b[5][1]++;
      const value = (cov_2osgvj7xd6().s[26]++, get(filter, 'fieldValue', ''));
      cov_2osgvj7xd6().s[27]++;
      return `${initialText} ${value}`;
    }
  }
};
cov_2osgvj7xd6().s[28]++;
export const validateRange = (value: number | string, filterValues: UIFilter): string | undefined => {
  cov_2osgvj7xd6().f[9]++;
  cov_2osgvj7xd6().s[29]++;

  if ((cov_2osgvj7xd6().b[7][0]++, value == null) || (cov_2osgvj7xd6().b[7][1]++, value === '')) {
    cov_2osgvj7xd6().b[6][0]++;
    cov_2osgvj7xd6().s[30]++;
    return 'Required';
  } else {
    cov_2osgvj7xd6().b[6][1]++;
  }

  cov_2osgvj7xd6().s[31]++;

  if ((cov_2osgvj7xd6().b[9][0]++, filterValues.fieldRangeEnd) && (cov_2osgvj7xd6().b[9][1]++, filterValues.fieldRangeEnd < value)) {
    cov_2osgvj7xd6().b[8][0]++;
    cov_2osgvj7xd6().s[32]++;
    return 'Start should be less than end';
  } else {
    cov_2osgvj7xd6().b[8][1]++;
  }

  cov_2osgvj7xd6().s[33]++;

  if ((cov_2osgvj7xd6().b[11][0]++, filterValues.fieldRangeStart) && (cov_2osgvj7xd6().b[11][1]++, value < filterValues.fieldRangeStart)) {
    cov_2osgvj7xd6().b[10][0]++;
    cov_2osgvj7xd6().s[34]++;
    return 'End should be greater than start';
  } else {
    cov_2osgvj7xd6().b[10][1]++;
  }
};
cov_2osgvj7xd6().s[35]++;
export const validFilterQuery = (value: string) => {
  cov_2osgvj7xd6().f[10]++;
  cov_2osgvj7xd6().s[36]++;

  try {
    cov_2osgvj7xd6().s[37]++;
    JSON.parse(value);
  } catch (err) {
    cov_2osgvj7xd6().s[38]++;
    console.log('Returning error');
    cov_2osgvj7xd6().s[39]++;
    return 'Invalid JSON';
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMudHMiXSwibmFtZXMiOlsiZ2V0IiwiQ09NUEFSSVNPTl9PUEVSQVRPUlMiLCJPUEVSQVRPUlNfTUFQIiwiQ09NUEFSSVNPTl9PUEVSQVRPUiIsIkRBVEFfVFlQRVMiLCJVSUZpbHRlciIsImFsbG93ZWRGaWx0ZXJzIiwiQk9PTEVBTiIsIktFWVdPUkQiLCJOVU1CRVIiLCJURVhUIiwiZ2V0SW5kZXhGaWVsZHMiLCJhbGxGaWVsZHMiLCJrZXkiLCJtYXAiLCJkYXRhVHlwZSIsImxhYmVsIiwib3B0aW9ucyIsImZpZWxkIiwidHlwZSIsImZpbHRlciIsIkJvb2xlYW4iLCJnZXRPcGVyYXRvcnMiLCJmaWVsZFR5cGUiLCJyZWR1Y2UiLCJhY2MiLCJjdXJyZW50T3BlcmF0b3IiLCJkYXRhVHlwZXMiLCJpbmNsdWRlcyIsInRleHQiLCJ2YWx1ZSIsImlzUmFuZ2VPcGVyYXRvciIsInNlbGVjdGVkT3BlcmF0b3IiLCJJTl9SQU5HRSIsIk5PVF9JTl9SQU5HRSIsImlzTnVsbE9wZXJhdG9yIiwiSVNfTlVMTCIsIklTX05PVF9OVUxMIiwiZGlzcGxheVRleHQiLCJmaWVsZE5hbWUiLCJ1bmRlZmluZWQiLCJvcGVyYXRvciIsIm9wZXJhdG9yT2JqIiwiZmluZCIsImluaXRpYWxUZXh0Iiwic3RhcnRSYW5nZSIsImVuZFJhbmdlIiwidmFsaWRhdGVSYW5nZSIsImZpbHRlclZhbHVlcyIsImZpZWxkUmFuZ2VFbmQiLCJmaWVsZFJhbmdlU3RhcnQiLCJ2YWxpZEZpbHRlclF1ZXJ5IiwiSlNPTiIsInBhcnNlIiwiZXJyIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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M0JrQixZQUFZLEVBQUUzQyxRQUZhLENBRzVCLEVBQUUsU0FBUyxTQUhpQixJQUdKO0FBQUE7QUFBQTs7QUFDdkIsTUFBSSw2QkFBQXlCLEtBQUssSUFBSSxJQUFULGtDQUFpQkEsS0FBSyxLQUFLLEVBQTNCLENBQUosRUFBbUM7QUFBQTtBQUFBO0FBQUEsV0FBTyxVQUFQO0FBQWtCLEdBQXJEO0FBQUE7QUFBQTs7QUFEdUI7O0FBRXZCLE1BQUksNkJBQUFrQixZQUFZLENBQUNDLGFBQWIsa0NBQThCRCxZQUFZLENBQUNDLGFBQWIsR0FBNkJuQixLQUEzRCxDQUFKLEVBQXNFO0FBQUE7QUFBQTtBQUNwRSxXQUFPLCtCQUFQO0FBQ0QsR0FGRDtBQUFBO0FBQUE7O0FBRnVCOztBQUt2QixNQUFJLDhCQUFBa0IsWUFBWSxDQUFDRSxlQUFiLG1DQUFnQ3BCLEtBQUssR0FBR2tCLFlBQVksQ0FBQ0UsZUFBckQsQ0FBSixFQUEwRTtBQUFBO0FBQUE7QUFDeEUsV0FBTyxrQ0FBUDtBQUNELEdBRkQ7QUFBQTtBQUFBO0FBR0QsQ0FYTTs7QUFhUCxPQUFPLE1BQU1DLGdCQUFnQixHQUFHLENBQUNyQixLQUFLLEVBQUUsTUFBUixLQUFtQjtBQUFBO0FBQUE7O0FBQ2pELE1BQUk7QUFBQTtBQUNGc0IsSUFBQUEsSUFBSSxDQUFDQyxLQUFMLENBQVd2QixLQUFYO0FBQ0QsR0FGRCxDQUVFLE9BQU93QixHQUFQLEVBQVk7QUFBQTtBQUNaQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWjtBQURZO0FBRVosV0FBTyxjQUFQO0FBQ0Q7QUFDRixDQVBNIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDE5IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKS5cbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIEEgY29weSBvZiB0aGUgTGljZW5zZSBpcyBsb2NhdGVkIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogb3IgaW4gdGhlIFwibGljZW5zZVwiIGZpbGUgYWNjb21wYW55aW5nIHRoaXMgZmlsZS4gVGhpcyBmaWxlIGlzIGRpc3RyaWJ1dGVkXG4gKiBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXJcbiAqIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nXG4gKiBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7XG4gIENPTVBBUklTT05fT1BFUkFUT1JTLFxuICBPUEVSQVRPUlNfTUFQLFxuICBDT01QQVJJU09OX09QRVJBVE9SLFxufSBmcm9tICcuL2NvbnN0YW50JztcbmltcG9ydCB7IERBVEFfVFlQRVMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgVUlGaWx0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb2RlbHMvaW50ZXJmYWNlcyc7XG5cbmNvbnN0IGFsbG93ZWRGaWx0ZXJzID0gW1xuICBEQVRBX1RZUEVTLkJPT0xFQU4sXG4gIERBVEFfVFlQRVMuS0VZV09SRCxcbiAgREFUQV9UWVBFUy5OVU1CRVIsXG4gIERBVEFfVFlQRVMuVEVYVCxcbl07XG5cbmV4cG9ydCBjb25zdCBnZXRJbmRleEZpZWxkcyA9IChhbGxGaWVsZHM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nW10gfSkgPT5cbiAgYWxsb3dlZEZpbHRlcnNcbiAgICAubWFwKGRhdGFUeXBlID0+XG4gICAgICBhbGxGaWVsZHNbZGF0YVR5cGVdXG4gICAgICAgID8ge1xuICAgICAgICAgICAgbGFiZWw6IGRhdGFUeXBlLFxuICAgICAgICAgICAgb3B0aW9uczogYWxsRmllbGRzW2RhdGFUeXBlXS5tYXAoZmllbGQgPT4gKHtcbiAgICAgICAgICAgICAgbGFiZWw6IGZpZWxkLFxuICAgICAgICAgICAgICB0eXBlOiBkYXRhVHlwZSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbFxuICAgIClcbiAgICAuZmlsdGVyKEJvb2xlYW4pO1xuXG5leHBvcnQgY29uc3QgZ2V0T3BlcmF0b3JzID0gKGZpZWxkVHlwZTogREFUQV9UWVBFUyk6IGFueVtdID0+XG4gIENPTVBBUklTT05fT1BFUkFUT1JTLnJlZHVjZShcbiAgICAoYWNjOiBhbnlbXSwgY3VycmVudE9wZXJhdG9yOiBDT01QQVJJU09OX09QRVJBVE9SKSA9PlxuICAgICAgY3VycmVudE9wZXJhdG9yLmRhdGFUeXBlcy5pbmNsdWRlcyhmaWVsZFR5cGUpXG4gICAgICAgID8gWy4uLmFjYywgeyB0ZXh0OiBjdXJyZW50T3BlcmF0b3IudGV4dCwgdmFsdWU6IGN1cnJlbnRPcGVyYXRvci52YWx1ZSB9XVxuICAgICAgICA6IGFjYyxcbiAgICBbXVxuICApO1xuXG5leHBvcnQgY29uc3QgaXNSYW5nZU9wZXJhdG9yID0gKHNlbGVjdGVkT3BlcmF0b3I6IE9QRVJBVE9SU19NQVApOiBib29sZWFuID0+XG4gIFtPUEVSQVRPUlNfTUFQLklOX1JBTkdFLCBPUEVSQVRPUlNfTUFQLk5PVF9JTl9SQU5HRV0uaW5jbHVkZXMoXG4gICAgc2VsZWN0ZWRPcGVyYXRvclxuICApO1xuXG5leHBvcnQgY29uc3QgaXNOdWxsT3BlcmF0b3IgPSAoc2VsZWN0ZWRPcGVyYXRvcjogT1BFUkFUT1JTX01BUCk6IGJvb2xlYW4gPT5cbiAgW09QRVJBVE9SU19NQVAuSVNfTlVMTCwgT1BFUkFUT1JTX01BUC5JU19OT1RfTlVMTF0uaW5jbHVkZXMoc2VsZWN0ZWRPcGVyYXRvcik7XG5cbmV4cG9ydCBjb25zdCBkaXNwbGF5VGV4dCA9IChmaWx0ZXI6IFVJRmlsdGVyKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZmllbGROYW1lID0gZ2V0KGZpbHRlciwgJ2ZpZWxkSW5mb1swXS5sYWJlbCcsIHVuZGVmaW5lZCk7XG4gIGlmICghZmllbGROYW1lKSB7XG4gICAgcmV0dXJuICdGaWx0ZXIgcXVlcnknO1xuICB9XG4gIGNvbnN0IHNlbGVjdGVkT3BlcmF0b3IgPSBmaWx0ZXIub3BlcmF0b3I7XG4gIGNvbnN0IG9wZXJhdG9yT2JqID0gQ09NUEFSSVNPTl9PUEVSQVRPUlMuZmluZChcbiAgICBvcGVyYXRvciA9PiBvcGVyYXRvci52YWx1ZSA9PT0gc2VsZWN0ZWRPcGVyYXRvclxuICApIHx8IHsgdGV4dDogJycgfTtcbiAgY29uc3QgaW5pdGlhbFRleHQgPSBgJHtmaWVsZE5hbWV9ICR7b3BlcmF0b3JPYmoudGV4dH1gO1xuXG4gIGlmIChpc1JhbmdlT3BlcmF0b3Ioc2VsZWN0ZWRPcGVyYXRvcikpIHtcbiAgICBjb25zdCBzdGFydFJhbmdlID0gZ2V0KGZpbHRlciwgJ2ZpZWxkUmFuZ2VTdGFydCcsIDApO1xuICAgIGNvbnN0IGVuZFJhbmdlID0gZ2V0KGZpbHRlciwgJ2ZpZWxkUmFuZ2VFbmQnLCAwKTtcbiAgICByZXR1cm4gYCR7aW5pdGlhbFRleHR9IGZyb20gJHtzdGFydFJhbmdlfSB0byAke2VuZFJhbmdlfWA7XG4gIH0gZWxzZSBpZiAoaXNOdWxsT3BlcmF0b3Ioc2VsZWN0ZWRPcGVyYXRvcikpIHtcbiAgICByZXR1cm4gYCR7aW5pdGlhbFRleHR9YDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldChmaWx0ZXIsICdmaWVsZFZhbHVlJywgJycpO1xuICAgIHJldHVybiBgJHtpbml0aWFsVGV4dH0gJHt2YWx1ZX1gO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVSYW5nZSA9IChcbiAgdmFsdWU6IG51bWJlciB8IHN0cmluZyxcbiAgZmlsdGVyVmFsdWVzOiBVSUZpbHRlclxuKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09ICcnKSByZXR1cm4gJ1JlcXVpcmVkJztcbiAgaWYgKGZpbHRlclZhbHVlcy5maWVsZFJhbmdlRW5kICYmIGZpbHRlclZhbHVlcy5maWVsZFJhbmdlRW5kIDwgdmFsdWUpIHtcbiAgICByZXR1cm4gJ1N0YXJ0IHNob3VsZCBiZSBsZXNzIHRoYW4gZW5kJztcbiAgfVxuICBpZiAoZmlsdGVyVmFsdWVzLmZpZWxkUmFuZ2VTdGFydCAmJiB2YWx1ZSA8IGZpbHRlclZhbHVlcy5maWVsZFJhbmdlU3RhcnQpIHtcbiAgICByZXR1cm4gJ0VuZCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIHN0YXJ0JztcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkRmlsdGVyUXVlcnkgPSAodmFsdWU6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIEpTT04ucGFyc2UodmFsdWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnUmV0dXJuaW5nIGVycm9yJyk7XG4gICAgcmV0dXJuICdJbnZhbGlkIEpTT04nO1xuICB9XG59O1xuIl19