function cov_2gwp5mijfp() {
  var path = "/Users/yizheliu/casesafe/workspace/kibana-780/kibana/plugins/anomaly-detection-kibana-plugin/public/redux/reducers/elasticsearch.ts";
  var hash = "5aa68bc5490520740c17ce832e9f441342c6e4d0";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/yizheliu/casesafe/workspace/kibana-780/kibana/plugins/anomaly-detection-kibana-plugin/public/redux/reducers/elasticsearch.ts",
    statementMap: {
      "0": {
        start: {
          line: 29,
          column: 20
        },
        end: {
          line: 29,
          column: 47
        }
      },
      "1": {
        start: {
          line: 30,
          column: 20
        },
        end: {
          line: 30,
          column: 47
        }
      },
      "2": {
        start: {
          line: 31,
          column: 21
        },
        end: {
          line: 31,
          column: 49
        }
      },
      "3": {
        start: {
          line: 32,
          column: 18
        },
        end: {
          line: 32,
          column: 43
        }
      },
      "4": {
        start: {
          line: 66,
          column: 48
        },
        end: {
          line: 73,
          column: 1
        }
      },
      "5": {
        start: {
          line: 75,
          column: 16
        },
        end: {
          line: 178,
          column: 1
        }
      },
      "6": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 79,
          column: 64
        }
      },
      "7": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 89,
          column: 10
        }
      },
      "8": {
        start: {
          line: 94,
          column: 32
        },
        end: {
          line: 98,
          column: 7
        }
      },
      "9": {
        start: {
          line: 101,
          column: 67
        },
        end: {
          line: 105,
          column: 7
        }
      },
      "10": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 114,
          column: 10
        }
      },
      "11": {
        start: {
          line: 119,
          column: 32
        },
        end: {
          line: 123,
          column: 7
        }
      },
      "12": {
        start: {
          line: 126,
          column: 67
        },
        end: {
          line: 130,
          column: 7
        }
      },
      "13": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 139,
          column: 10
        }
      },
      "14": {
        start: {
          line: 144,
          column: 32
        },
        end: {
          line: 148,
          column: 7
        }
      },
      "15": {
        start: {
          line: 151,
          column: 67
        },
        end: {
          line: 155,
          column: 7
        }
      },
      "16": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 164,
          column: 10
        }
      },
      "17": {
        start: {
          line: 169,
          column: 32
        },
        end: {
          line: 174,
          column: 7
        }
      },
      "18": {
        start: {
          line: 180,
          column: 26
        },
        end: {
          line: 185,
          column: 2
        }
      },
      "19": {
        start: {
          line: 180,
          column: 66
        },
        end: {
          line: 185,
          column: 1
        }
      },
      "20": {
        start: {
          line: 183,
          column: 4
        },
        end: {
          line: 183,
          column: 62
        }
      },
      "21": {
        start: {
          line: 187,
          column: 26
        },
        end: {
          line: 192,
          column: 2
        }
      },
      "22": {
        start: {
          line: 187,
          column: 66
        },
        end: {
          line: 192,
          column: 1
        }
      },
      "23": {
        start: {
          line: 190,
          column: 4
        },
        end: {
          line: 190,
          column: 62
        }
      },
      "24": {
        start: {
          line: 194,
          column: 27
        },
        end: {
          line: 199,
          column: 2
        }
      },
      "25": {
        start: {
          line: 194,
          column: 67
        },
        end: {
          line: 199,
          column: 1
        }
      },
      "26": {
        start: {
          line: 197,
          column: 4
        },
        end: {
          line: 197,
          column: 63
        }
      },
      "27": {
        start: {
          line: 201,
          column: 24
        },
        end: {
          line: 205,
          column: 2
        }
      },
      "28": {
        start: {
          line: 201,
          column: 58
        },
        end: {
          line: 205,
          column: 1
        }
      },
      "29": {
        start: {
          line: 204,
          column: 4
        },
        end: {
          line: 204,
          column: 56
        }
      },
      "30": {
        start: {
          line: 207,
          column: 37
        },
        end: {
          line: 237,
          column: 1
        }
      },
      "31": {
        start: {
          line: 207,
          column: 73
        },
        end: {
          line: 237,
          column: 1
        }
      },
      "32": {
        start: {
          line: 212,
          column: 2
        },
        end: {
          line: 212,
          column: 40
        }
      },
      "33": {
        start: {
          line: 213,
          column: 2
        },
        end: {
          line: 213,
          column: 40
        }
      },
      "34": {
        start: {
          line: 214,
          column: 18
        },
        end: {
          line: 214,
          column: 42
        }
      },
      "35": {
        start: {
          line: 215,
          column: 30
        },
        end: {
          line: 215,
          column: 45
        }
      },
      "36": {
        start: {
          line: 216,
          column: 30
        },
        end: {
          line: 216,
          column: 45
        }
      },
      "37": {
        start: {
          line: 217,
          column: 2
        },
        end: {
          line: 236,
          column: 3
        }
      },
      "38": {
        start: {
          line: 219,
          column: 4
        },
        end: {
          line: 222,
          column: 6
        }
      },
      "39": {
        start: {
          line: 225,
          column: 4
        },
        end: {
          line: 225,
          column: 48
        }
      },
      "40": {
        start: {
          line: 226,
          column: 4
        },
        end: {
          line: 226,
          column: 48
        }
      },
      "41": {
        start: {
          line: 227,
          column: 20
        },
        end: {
          line: 227,
          column: 44
        }
      },
      "42": {
        start: {
          line: 228,
          column: 34
        },
        end: {
          line: 228,
          column: 49
        }
      },
      "43": {
        start: {
          line: 229,
          column: 34
        },
        end: {
          line: 229,
          column: 49
        }
      },
      "44": {
        start: {
          line: 230,
          column: 4
        },
        end: {
          line: 235,
          column: 5
        }
      },
      "45": {
        start: {
          line: 231,
          column: 6
        },
        end: {
          line: 234,
          column: 8
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 78,
            column: 15
          },
          end: {
            line: 78,
            column: 16
          }
        },
        loc: {
          start: {
            line: 78,
            column: 66
          },
          end: {
            line: 80,
            column: 7
          }
        },
        line: 78
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 81,
            column: 15
          },
          end: {
            line: 81,
            column: 16
          }
        },
        loc: {
          start: {
            line: 84,
            column: 31
          },
          end: {
            line: 90,
            column: 7
          }
        },
        line: 84
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 91,
            column: 15
          },
          end: {
            line: 91,
            column: 16
          }
        },
        loc: {
          start: {
            line: 94,
            column: 32
          },
          end: {
            line: 98,
            column: 7
          }
        },
        line: 94
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 101,
            column: 15
          },
          end: {
            line: 101,
            column: 16
          }
        },
        loc: {
          start: {
            line: 101,
            column: 67
          },
          end: {
            line: 105,
            column: 7
          }
        },
        line: 101
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 106,
            column: 15
          },
          end: {
            line: 106,
            column: 16
          }
        },
        loc: {
          start: {
            line: 109,
            column: 31
          },
          end: {
            line: 115,
            column: 7
          }
        },
        line: 109
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 116,
            column: 15
          },
          end: {
            line: 116,
            column: 16
          }
        },
        loc: {
          start: {
            line: 119,
            column: 32
          },
          end: {
            line: 123,
            column: 7
          }
        },
        line: 119
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 126,
            column: 15
          },
          end: {
            line: 126,
            column: 16
          }
        },
        loc: {
          start: {
            line: 126,
            column: 67
          },
          end: {
            line: 130,
            column: 7
          }
        },
        line: 126
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 131,
            column: 15
          },
          end: {
            line: 131,
            column: 16
          }
        },
        loc: {
          start: {
            line: 134,
            column: 31
          },
          end: {
            line: 140,
            column: 7
          }
        },
        line: 134
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 141,
            column: 15
          },
          end: {
            line: 141,
            column: 16
          }
        },
        loc: {
          start: {
            line: 144,
            column: 32
          },
          end: {
            line: 148,
            column: 7
          }
        },
        line: 144
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 151,
            column: 15
          },
          end: {
            line: 151,
            column: 16
          }
        },
        loc: {
          start: {
            line: 151,
            column: 67
          },
          end: {
            line: 155,
            column: 7
          }
        },
        line: 151
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 156,
            column: 15
          },
          end: {
            line: 156,
            column: 16
          }
        },
        loc: {
          start: {
            line: 159,
            column: 31
          },
          end: {
            line: 165,
            column: 7
          }
        },
        line: 159
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 166,
            column: 15
          },
          end: {
            line: 166,
            column: 16
          }
        },
        loc: {
          start: {
            line: 169,
            column: 32
          },
          end: {
            line: 174,
            column: 7
          }
        },
        line: 169
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 180,
            column: 26
          },
          end: {
            line: 180,
            column: 27
          }
        },
        loc: {
          start: {
            line: 180,
            column: 66
          },
          end: {
            line: 185,
            column: 1
          }
        },
        line: 180
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 182,
            column: 11
          },
          end: {
            line: 182,
            column: 12
          }
        },
        loc: {
          start: {
            line: 183,
            column: 4
          },
          end: {
            line: 183,
            column: 62
          }
        },
        line: 183
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 187,
            column: 26
          },
          end: {
            line: 187,
            column: 27
          }
        },
        loc: {
          start: {
            line: 187,
            column: 66
          },
          end: {
            line: 192,
            column: 1
          }
        },
        line: 187
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 189,
            column: 11
          },
          end: {
            line: 189,
            column: 12
          }
        },
        loc: {
          start: {
            line: 190,
            column: 4
          },
          end: {
            line: 190,
            column: 62
          }
        },
        line: 190
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 194,
            column: 27
          },
          end: {
            line: 194,
            column: 28
          }
        },
        loc: {
          start: {
            line: 194,
            column: 67
          },
          end: {
            line: 199,
            column: 1
          }
        },
        line: 194
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 196,
            column: 11
          },
          end: {
            line: 196,
            column: 12
          }
        },
        loc: {
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 197,
            column: 63
          }
        },
        line: 197
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 201,
            column: 24
          },
          end: {
            line: 201,
            column: 25
          }
        },
        loc: {
          start: {
            line: 201,
            column: 58
          },
          end: {
            line: 205,
            column: 1
          }
        },
        line: 201
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 203,
            column: 11
          },
          end: {
            line: 203,
            column: 12
          }
        },
        loc: {
          start: {
            line: 204,
            column: 4
          },
          end: {
            line: 204,
            column: 56
          }
        },
        line: 204
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 207,
            column: 37
          },
          end: {
            line: 207,
            column: 38
          }
        },
        loc: {
          start: {
            line: 207,
            column: 73
          },
          end: {
            line: 237,
            column: 1
          }
        },
        line: 207
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 207,
            column: 73
          },
          end: {
            line: 207,
            column: 74
          }
        },
        loc: {
          start: {
            line: 210,
            column: 5
          },
          end: {
            line: 237,
            column: 1
          }
        },
        line: 210
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 180,
            column: 27
          },
          end: {
            line: 180,
            column: 49
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 180,
            column: 47
          },
          end: {
            line: 180,
            column: 49
          }
        }],
        line: 180
      },
      "1": {
        loc: {
          start: {
            line: 187,
            column: 27
          },
          end: {
            line: 187,
            column: 49
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 187,
            column: 47
          },
          end: {
            line: 187,
            column: 49
          }
        }],
        line: 187
      },
      "2": {
        loc: {
          start: {
            line: 194,
            column: 28
          },
          end: {
            line: 194,
            column: 50
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 194,
            column: 48
          },
          end: {
            line: 194,
            column: 50
          }
        }],
        line: 194
      },
      "3": {
        loc: {
          start: {
            line: 217,
            column: 2
          },
          end: {
            line: 236,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 217,
            column: 2
          },
          end: {
            line: 236,
            column: 3
          }
        }, {
          start: {
            line: 217,
            column: 2
          },
          end: {
            line: 236,
            column: 3
          }
        }],
        line: 217
      },
      "4": {
        loc: {
          start: {
            line: 217,
            column: 6
          },
          end: {
            line: 217,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 217,
            column: 6
          },
          end: {
            line: 217,
            column: 32
          }
        }, {
          start: {
            line: 217,
            column: 36
          },
          end: {
            line: 217,
            column: 62
          }
        }],
        line: 217
      },
      "5": {
        loc: {
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        }, {
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        }],
        line: 230
      },
      "6": {
        loc: {
          start: {
            line: 230,
            column: 8
          },
          end: {
            line: 230,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 230,
            column: 8
          },
          end: {
            line: 230,
            column: 36
          }
        }, {
          start: {
            line: 230,
            column: 40
          },
          end: {
            line: 230,
            column: 68
          }
        }],
        line: 230
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0
    },
    b: {
      "0": [0],
      "1": [0],
      "2": [0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5aa68bc5490520740c17ce832e9f441342c6e4d0"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2gwp5mijfp = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_2gwp5mijfp();

/*
 * Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * or in the "license" file accompanying this file. This file is distributed
 * on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
 * express or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
import { APIAction, APIResponseAction, IHttpService, APIErrorAction, ThunkAction } from '../middleware/types';
import handleActions from '../utils/handleActions';
import { getPathsPerDataType } from './mapper';
import { CatIndex, IndexAlias } from '../../../server/models/types';
import { AD_NODE_API } from '../../../utils/constants';
import { get } from 'lodash';
const GET_INDICES = (cov_2gwp5mijfp().s[0]++, 'elasticsearch/GET_INDICES');
const GET_ALIASES = (cov_2gwp5mijfp().s[1]++, 'elasticsearch/GET_ALIASES');
const GET_MAPPINGS = (cov_2gwp5mijfp().s[2]++, 'elasticsearch/GET_MAPPINGS');
const SEARCH_ES = (cov_2gwp5mijfp().s[3]++, 'elasticsearch/SEARCH_ES');
export type Mappings = {
  [key: string]: any;
};
export interface DataTypes {
  long?: string[];
  integer?: string[];
  short?: string[];
  byte?: string[];
  double?: string[];
  float?: string[];
  half_float?: string[];
  boolean?: string[];
  date?: string[];
  keyword?: string[];
  text?: string[];
  integer_range?: string[];
  float_range?: string[];
  long_range?: string[];
  double_range?: string[];
  date_range?: string[];
  [key: string]: any; // Any new or unknown

}
interface ElasticsearchState {
  indices: CatIndex[];
  aliases: IndexAlias[];
  dataTypes: DataTypes;
  requesting: boolean;
  searchResult: object;
  errorMessage: string;
}
export const initialState: ElasticsearchState = (cov_2gwp5mijfp().s[4]++, {
  indices: [],
  aliases: [],
  dataTypes: {},
  requesting: false,
  searchResult: {},
  errorMessage: ''
});
const reducer = (cov_2gwp5mijfp().s[5]++, handleActions<ElasticsearchState>({
  [GET_INDICES]: {
    REQUEST: (state: ElasticsearchState): ElasticsearchState => {
      cov_2gwp5mijfp().f[0]++;
      cov_2gwp5mijfp().s[6]++;
      return { ...state,
        requesting: true,
        errorMessage: ''
      };
    },
    SUCCESS: (state: ElasticsearchState, action: APIResponseAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[1]++;
      cov_2gwp5mijfp().s[7]++;
      return { ...state,
        requesting: false,
        indices: action.result.data.response.indices
      };
    },
    FAILURE: (state: ElasticsearchState, action: APIErrorAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[2]++;
      cov_2gwp5mijfp().s[8]++;
      return { ...state,
        requesting: false,
        errorMessage: get(action, 'error.data.error', action.error)
      };
    }
  },
  [GET_ALIASES]: {
    REQUEST: (state: ElasticsearchState): ElasticsearchState => {
      cov_2gwp5mijfp().f[3]++;
      cov_2gwp5mijfp().s[9]++;
      return { ...state,
        requesting: true,
        errorMessage: ''
      };
    },
    SUCCESS: (state: ElasticsearchState, action: APIResponseAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[4]++;
      cov_2gwp5mijfp().s[10]++;
      return { ...state,
        requesting: false,
        aliases: action.result.data.response.aliases
      };
    },
    FAILURE: (state: ElasticsearchState, action: APIErrorAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[5]++;
      cov_2gwp5mijfp().s[11]++;
      return { ...state,
        requesting: false,
        errorMessage: get(action, 'error.data.error', action.error)
      };
    }
  },
  [SEARCH_ES]: {
    REQUEST: (state: ElasticsearchState): ElasticsearchState => {
      cov_2gwp5mijfp().f[6]++;
      cov_2gwp5mijfp().s[12]++;
      return { ...state,
        requesting: true,
        errorMessage: ''
      };
    },
    SUCCESS: (state: ElasticsearchState, action: APIResponseAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[7]++;
      cov_2gwp5mijfp().s[13]++;
      return { ...state,
        requesting: false,
        searchResult: { ...action.result.data.response
        }
      };
    },
    FAILURE: (state: ElasticsearchState, action: APIErrorAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[8]++;
      cov_2gwp5mijfp().s[14]++;
      return { ...state,
        requesting: false,
        errorMessage: get(action, 'error.data.error', action.error)
      };
    }
  },
  [GET_MAPPINGS]: {
    REQUEST: (state: ElasticsearchState): ElasticsearchState => {
      cov_2gwp5mijfp().f[9]++;
      cov_2gwp5mijfp().s[15]++;
      return { ...state,
        requesting: true,
        errorMessage: ''
      };
    },
    SUCCESS: (state: ElasticsearchState, action: APIResponseAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[10]++;
      cov_2gwp5mijfp().s[16]++;
      return { ...state,
        requesting: false,
        dataTypes: getPathsPerDataType(action.result.data.response.mappings)
      };
    },
    FAILURE: (state: ElasticsearchState, action: APIErrorAction): ElasticsearchState => {
      cov_2gwp5mijfp().f[11]++;
      cov_2gwp5mijfp().s[17]++;
      return { ...state,
        requesting: false,
        errorMessage: get(action, 'error.data.error', action.error),
        dataTypes: {}
      };
    }
  }
}, initialState));
cov_2gwp5mijfp().s[18]++;
export const getIndices = (searchKey: string = (cov_2gwp5mijfp().b[0][0]++, '')): APIAction => {
  cov_2gwp5mijfp().f[12]++;
  cov_2gwp5mijfp().s[19]++;
  return {
    type: GET_INDICES,
    request: (client: IHttpService) => {
      cov_2gwp5mijfp().f[13]++;
      cov_2gwp5mijfp().s[20]++;
      return client.get(`..${AD_NODE_API._INDICES}?index=${searchKey}`);
    },
    searchKey
  };
};
cov_2gwp5mijfp().s[21]++;
export const getAliases = (searchKey: string = (cov_2gwp5mijfp().b[1][0]++, '')): APIAction => {
  cov_2gwp5mijfp().f[14]++;
  cov_2gwp5mijfp().s[22]++;
  return {
    type: GET_ALIASES,
    request: (client: IHttpService) => {
      cov_2gwp5mijfp().f[15]++;
      cov_2gwp5mijfp().s[23]++;
      return client.get(`..${AD_NODE_API._ALIASES}?alias=${searchKey}`);
    },
    searchKey
  };
};
cov_2gwp5mijfp().s[24]++;
export const getMappings = (searchKey: string = (cov_2gwp5mijfp().b[2][0]++, '')): APIAction => {
  cov_2gwp5mijfp().f[16]++;
  cov_2gwp5mijfp().s[25]++;
  return {
    type: GET_MAPPINGS,
    request: (client: IHttpService) => {
      cov_2gwp5mijfp().f[17]++;
      cov_2gwp5mijfp().s[26]++;
      return client.get(`..${AD_NODE_API._MAPPINGS}?index=${searchKey}`);
    },
    searchKey
  };
};
cov_2gwp5mijfp().s[27]++;
export const searchES = (requestData: any): APIAction => {
  cov_2gwp5mijfp().f[18]++;
  cov_2gwp5mijfp().s[28]++;
  return {
    type: SEARCH_ES,
    request: (client: IHttpService) => {
      cov_2gwp5mijfp().f[19]++;
      cov_2gwp5mijfp().s[29]++;
      return client.post(`..${AD_NODE_API._SEARCH}`, requestData);
    }
  };
};
cov_2gwp5mijfp().s[30]++;
export const getPrioritizedIndices = (searchKey: string): ThunkAction => {
  cov_2gwp5mijfp().f[20]++;
  cov_2gwp5mijfp().s[31]++;
  return async (dispatch, getState) => {
    cov_2gwp5mijfp().f[21]++;
    cov_2gwp5mijfp().s[32]++;
    //Fetch Indices and Aliases with text provided
    await dispatch(getIndices(searchKey));
    cov_2gwp5mijfp().s[33]++;
    await dispatch(getAliases(searchKey));
    const esState = (cov_2gwp5mijfp().s[34]++, getState().elasticsearch);
    const exactMatchedIndices = (cov_2gwp5mijfp().s[35]++, esState.indices);
    const exactMatchedAliases = (cov_2gwp5mijfp().s[36]++, esState.aliases);
    cov_2gwp5mijfp().s[37]++;

    if ((cov_2gwp5mijfp().b[4][0]++, exactMatchedAliases.length) || (cov_2gwp5mijfp().b[4][1]++, exactMatchedIndices.length)) {
      cov_2gwp5mijfp().b[3][0]++;
      cov_2gwp5mijfp().s[38]++;
      //If we have exact match just return that
      return {
        indices: exactMatchedIndices,
        aliases: exactMatchedAliases
      };
    } else {
      cov_2gwp5mijfp().b[3][1]++;
      cov_2gwp5mijfp().s[39]++;
      //No results found for exact match, append wildCard and get partial matches if exists
      await dispatch(getIndices(`${searchKey}*`));
      cov_2gwp5mijfp().s[40]++;
      await dispatch(getAliases(`${searchKey}*`));
      const esState = (cov_2gwp5mijfp().s[41]++, getState().elasticsearch);
      const partialMatchedIndices = (cov_2gwp5mijfp().s[42]++, esState.indices);
      const partialMatchedAliases = (cov_2gwp5mijfp().s[43]++, esState.aliases);
      cov_2gwp5mijfp().s[44]++;

      if ((cov_2gwp5mijfp().b[6][0]++, partialMatchedAliases.length) || (cov_2gwp5mijfp().b[6][1]++, partialMatchedIndices.length)) {
        cov_2gwp5mijfp().b[5][0]++;
        cov_2gwp5mijfp().s[45]++;
        return {
          indices: partialMatchedIndices,
          aliases: partialMatchedAliases
        };
      } else {
        cov_2gwp5mijfp().b[5][1]++;
      }
    }
  };
};
export default reducer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVsYXN0aWNzZWFyY2gudHMiXSwibmFtZXMiOlsiQVBJQWN0aW9uIiwiQVBJUmVzcG9uc2VBY3Rpb24iLCJJSHR0cFNlcnZpY2UiLCJBUElFcnJvckFjdGlvbiIsIlRodW5rQWN0aW9uIiwiaGFuZGxlQWN0aW9ucyIsImdldFBhdGhzUGVyRGF0YVR5cGUiLCJDYXRJbmRleCIsIkluZGV4QWxpYXMiLCJBRF9OT0RFX0FQSSIsImdldCIsIkdFVF9JTkRJQ0VTIiwiR0VUX0FMSUFTRVMiLCJHRVRfTUFQUElOR1MiLCJTRUFSQ0hfRVMiLCJNYXBwaW5ncyIsImtleSIsIkRhdGFUeXBlcyIsImxvbmciLCJpbnRlZ2VyIiwic2hvcnQiLCJieXRlIiwiZG91YmxlIiwiZmxvYXQiLCJoYWxmX2Zsb2F0IiwiYm9vbGVhbiIsImRhdGUiLCJrZXl3b3JkIiwidGV4dCIsImludGVnZXJfcmFuZ2UiLCJmbG9hdF9yYW5nZSIsImxvbmdfcmFuZ2UiLCJkb3VibGVfcmFuZ2UiLCJkYXRlX3JhbmdlIiwiRWxhc3RpY3NlYXJjaFN0YXRlIiwiaW5kaWNlcyIsImFsaWFzZXMiLCJkYXRhVHlwZXMiLCJyZXF1ZXN0aW5nIiwic2VhcmNoUmVzdWx0IiwiZXJyb3JNZXNzYWdlIiwiaW5pdGlhbFN0YXRlIiwicmVkdWNlciIsIlJFUVVFU1QiLCJzdGF0ZSIsIlNVQ0NFU1MiLCJhY3Rpb24iLCJyZXN1bHQiLCJkYXRhIiwicmVzcG9uc2UiLCJGQUlMVVJFIiwiZXJyb3IiLCJtYXBwaW5ncyIsImdldEluZGljZXMiLCJzZWFyY2hLZXkiLCJ0eXBlIiwicmVxdWVzdCIsImNsaWVudCIsIl9JTkRJQ0VTIiwiZ2V0QWxpYXNlcyIsIl9BTElBU0VTIiwiZ2V0TWFwcGluZ3MiLCJfTUFQUElOR1MiLCJzZWFyY2hFUyIsInJlcXVlc3REYXRhIiwicG9zdCIsIl9TRUFSQ0giLCJnZXRQcmlvcml0aXplZEluZGljZXMiLCJkaXNwYXRjaCIsImdldFN0YXRlIiwiZXNTdGF0ZSIsImVsYXN0aWNzZWFyY2giLCJleGFjdE1hdGNoZWRJbmRpY2VzIiwiZXhhY3RNYXRjaGVkQWxpYXNlcyIsImxlbmd0aCIsInBhcnRpYWxNYXRjaGVkSW5kaWNlcyIsInBhcnRpYWxNYXRjaGVkQWxpYXNlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QVA7QUFJRCxPQUxEO0FBQUE7QUFBQTtBQU1EO0FBQ0YsR0E5QndFO0FBOEJ4RSxDQTlCTTtBQWdDUCxlQUFlbEMsT0FBZiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIikuXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBBIGNvcHkgb2YgdGhlIExpY2Vuc2UgaXMgbG9jYXRlZCBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIG9yIGluIHRoZSBcImxpY2Vuc2VcIiBmaWxlIGFjY29tcGFueWluZyB0aGlzIGZpbGUuIFRoaXMgZmlsZSBpcyBkaXN0cmlidXRlZFxuICogb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyXG4gKiBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZ1xuICogcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEFQSUFjdGlvbixcbiAgQVBJUmVzcG9uc2VBY3Rpb24sXG4gIElIdHRwU2VydmljZSxcbiAgQVBJRXJyb3JBY3Rpb24sXG4gIFRodW5rQWN0aW9uLFxufSBmcm9tICcuLi9taWRkbGV3YXJlL3R5cGVzJztcbmltcG9ydCBoYW5kbGVBY3Rpb25zIGZyb20gJy4uL3V0aWxzL2hhbmRsZUFjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0UGF0aHNQZXJEYXRhVHlwZSB9IGZyb20gJy4vbWFwcGVyJztcbmltcG9ydCB7IENhdEluZGV4LCBJbmRleEFsaWFzIH0gZnJvbSAnLi4vLi4vLi4vc2VydmVyL21vZGVscy90eXBlcyc7XG5pbXBvcnQgeyBBRF9OT0RFX0FQSSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBHRVRfSU5ESUNFUyA9ICdlbGFzdGljc2VhcmNoL0dFVF9JTkRJQ0VTJztcbmNvbnN0IEdFVF9BTElBU0VTID0gJ2VsYXN0aWNzZWFyY2gvR0VUX0FMSUFTRVMnO1xuY29uc3QgR0VUX01BUFBJTkdTID0gJ2VsYXN0aWNzZWFyY2gvR0VUX01BUFBJTkdTJztcbmNvbnN0IFNFQVJDSF9FUyA9ICdlbGFzdGljc2VhcmNoL1NFQVJDSF9FUyc7XG5cbmV4cG9ydCB0eXBlIE1hcHBpbmdzID0ge1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFUeXBlcyB7XG4gIGxvbmc/OiBzdHJpbmdbXTtcbiAgaW50ZWdlcj86IHN0cmluZ1tdO1xuICBzaG9ydD86IHN0cmluZ1tdO1xuICBieXRlPzogc3RyaW5nW107XG4gIGRvdWJsZT86IHN0cmluZ1tdO1xuICBmbG9hdD86IHN0cmluZ1tdO1xuICBoYWxmX2Zsb2F0Pzogc3RyaW5nW107XG4gIGJvb2xlYW4/OiBzdHJpbmdbXTtcbiAgZGF0ZT86IHN0cmluZ1tdO1xuICBrZXl3b3JkPzogc3RyaW5nW107XG4gIHRleHQ/OiBzdHJpbmdbXTtcbiAgaW50ZWdlcl9yYW5nZT86IHN0cmluZ1tdO1xuICBmbG9hdF9yYW5nZT86IHN0cmluZ1tdO1xuICBsb25nX3JhbmdlPzogc3RyaW5nW107XG4gIGRvdWJsZV9yYW5nZT86IHN0cmluZ1tdO1xuICBkYXRlX3JhbmdlPzogc3RyaW5nW107XG4gIFtrZXk6IHN0cmluZ106IGFueTsgLy8gQW55IG5ldyBvciB1bmtub3duXG59XG5cbmludGVyZmFjZSBFbGFzdGljc2VhcmNoU3RhdGUge1xuICBpbmRpY2VzOiBDYXRJbmRleFtdO1xuICBhbGlhc2VzOiBJbmRleEFsaWFzW107XG4gIGRhdGFUeXBlczogRGF0YVR5cGVzO1xuICByZXF1ZXN0aW5nOiBib29sZWFuO1xuICBzZWFyY2hSZXN1bHQ6IG9iamVjdDtcbiAgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XG59XG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBFbGFzdGljc2VhcmNoU3RhdGUgPSB7XG4gIGluZGljZXM6IFtdLFxuICBhbGlhc2VzOiBbXSxcbiAgZGF0YVR5cGVzOiB7fSxcbiAgcmVxdWVzdGluZzogZmFsc2UsXG4gIHNlYXJjaFJlc3VsdDoge30sXG4gIGVycm9yTWVzc2FnZTogJycsXG59O1xuXG5jb25zdCByZWR1Y2VyID0gaGFuZGxlQWN0aW9uczxFbGFzdGljc2VhcmNoU3RhdGU+KFxuICB7XG4gICAgW0dFVF9JTkRJQ0VTXToge1xuICAgICAgUkVRVUVTVDogKHN0YXRlOiBFbGFzdGljc2VhcmNoU3RhdGUpOiBFbGFzdGljc2VhcmNoU3RhdGUgPT4ge1xuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgcmVxdWVzdGluZzogdHJ1ZSwgZXJyb3JNZXNzYWdlOiAnJyB9O1xuICAgICAgfSxcbiAgICAgIFNVQ0NFU1M6IChcbiAgICAgICAgc3RhdGU6IEVsYXN0aWNzZWFyY2hTdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBBUElSZXNwb25zZUFjdGlvblxuICAgICAgKTogRWxhc3RpY3NlYXJjaFN0YXRlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICByZXF1ZXN0aW5nOiBmYWxzZSxcbiAgICAgICAgICBpbmRpY2VzOiBhY3Rpb24ucmVzdWx0LmRhdGEucmVzcG9uc2UuaW5kaWNlcyxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBGQUlMVVJFOiAoXG4gICAgICAgIHN0YXRlOiBFbGFzdGljc2VhcmNoU3RhdGUsXG4gICAgICAgIGFjdGlvbjogQVBJRXJyb3JBY3Rpb25cbiAgICAgICk6IEVsYXN0aWNzZWFyY2hTdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVxdWVzdGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yTWVzc2FnZTogZ2V0KGFjdGlvbiwgJ2Vycm9yLmRhdGEuZXJyb3InLCBhY3Rpb24uZXJyb3IpLFxuICAgICAgfSksXG4gICAgfSxcbiAgICBbR0VUX0FMSUFTRVNdOiB7XG4gICAgICBSRVFVRVNUOiAoc3RhdGU6IEVsYXN0aWNzZWFyY2hTdGF0ZSk6IEVsYXN0aWNzZWFyY2hTdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVxdWVzdGluZzogdHJ1ZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcbiAgICAgIH0pLFxuICAgICAgU1VDQ0VTUzogKFxuICAgICAgICBzdGF0ZTogRWxhc3RpY3NlYXJjaFN0YXRlLFxuICAgICAgICBhY3Rpb246IEFQSVJlc3BvbnNlQWN0aW9uXG4gICAgICApOiBFbGFzdGljc2VhcmNoU3RhdGUgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHJlcXVlc3Rpbmc6IGZhbHNlLFxuICAgICAgICAgIGFsaWFzZXM6IGFjdGlvbi5yZXN1bHQuZGF0YS5yZXNwb25zZS5hbGlhc2VzLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIEZBSUxVUkU6IChcbiAgICAgICAgc3RhdGU6IEVsYXN0aWNzZWFyY2hTdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBBUElFcnJvckFjdGlvblxuICAgICAgKTogRWxhc3RpY3NlYXJjaFN0YXRlID0+ICh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXF1ZXN0aW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBnZXQoYWN0aW9uLCAnZXJyb3IuZGF0YS5lcnJvcicsIGFjdGlvbi5lcnJvciksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIFtTRUFSQ0hfRVNdOiB7XG4gICAgICBSRVFVRVNUOiAoc3RhdGU6IEVsYXN0aWNzZWFyY2hTdGF0ZSk6IEVsYXN0aWNzZWFyY2hTdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVxdWVzdGluZzogdHJ1ZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcbiAgICAgIH0pLFxuICAgICAgU1VDQ0VTUzogKFxuICAgICAgICBzdGF0ZTogRWxhc3RpY3NlYXJjaFN0YXRlLFxuICAgICAgICBhY3Rpb246IEFQSVJlc3BvbnNlQWN0aW9uXG4gICAgICApOiBFbGFzdGljc2VhcmNoU3RhdGUgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHJlcXVlc3Rpbmc6IGZhbHNlLFxuICAgICAgICAgIHNlYXJjaFJlc3VsdDogeyAuLi5hY3Rpb24ucmVzdWx0LmRhdGEucmVzcG9uc2UgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBGQUlMVVJFOiAoXG4gICAgICAgIHN0YXRlOiBFbGFzdGljc2VhcmNoU3RhdGUsXG4gICAgICAgIGFjdGlvbjogQVBJRXJyb3JBY3Rpb25cbiAgICAgICk6IEVsYXN0aWNzZWFyY2hTdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVxdWVzdGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yTWVzc2FnZTogZ2V0KGFjdGlvbiwgJ2Vycm9yLmRhdGEuZXJyb3InLCBhY3Rpb24uZXJyb3IpLFxuICAgICAgfSksXG4gICAgfSxcbiAgICBbR0VUX01BUFBJTkdTXToge1xuICAgICAgUkVRVUVTVDogKHN0YXRlOiBFbGFzdGljc2VhcmNoU3RhdGUpOiBFbGFzdGljc2VhcmNoU3RhdGUgPT4gKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlcXVlc3Rpbmc6IHRydWUsXG4gICAgICAgIGVycm9yTWVzc2FnZTogJycsXG4gICAgICB9KSxcbiAgICAgIFNVQ0NFU1M6IChcbiAgICAgICAgc3RhdGU6IEVsYXN0aWNzZWFyY2hTdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBBUElSZXNwb25zZUFjdGlvblxuICAgICAgKTogRWxhc3RpY3NlYXJjaFN0YXRlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICByZXF1ZXN0aW5nOiBmYWxzZSxcbiAgICAgICAgICBkYXRhVHlwZXM6IGdldFBhdGhzUGVyRGF0YVR5cGUoYWN0aW9uLnJlc3VsdC5kYXRhLnJlc3BvbnNlLm1hcHBpbmdzKSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBGQUlMVVJFOiAoXG4gICAgICAgIHN0YXRlOiBFbGFzdGljc2VhcmNoU3RhdGUsXG4gICAgICAgIGFjdGlvbjogQVBJRXJyb3JBY3Rpb25cbiAgICAgICk6IEVsYXN0aWNzZWFyY2hTdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVxdWVzdGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yTWVzc2FnZTogZ2V0KGFjdGlvbiwgJ2Vycm9yLmRhdGEuZXJyb3InLCBhY3Rpb24uZXJyb3IpLFxuICAgICAgICBkYXRhVHlwZXM6IHt9XG4gICAgICB9KSxcbiAgICB9LFxuICB9LFxuICBpbml0aWFsU3RhdGVcbik7XG5cbmV4cG9ydCBjb25zdCBnZXRJbmRpY2VzID0gKHNlYXJjaEtleTogc3RyaW5nID0gJycpOiBBUElBY3Rpb24gPT4gKHtcbiAgdHlwZTogR0VUX0lORElDRVMsXG4gIHJlcXVlc3Q6IChjbGllbnQ6IElIdHRwU2VydmljZSkgPT5cbiAgICBjbGllbnQuZ2V0KGAuLiR7QURfTk9ERV9BUEkuX0lORElDRVN9P2luZGV4PSR7c2VhcmNoS2V5fWApLFxuICBzZWFyY2hLZXksXG59KTtcblxuZXhwb3J0IGNvbnN0IGdldEFsaWFzZXMgPSAoc2VhcmNoS2V5OiBzdHJpbmcgPSAnJyk6IEFQSUFjdGlvbiA9PiAoe1xuICB0eXBlOiBHRVRfQUxJQVNFUyxcbiAgcmVxdWVzdDogKGNsaWVudDogSUh0dHBTZXJ2aWNlKSA9PlxuICAgIGNsaWVudC5nZXQoYC4uJHtBRF9OT0RFX0FQSS5fQUxJQVNFU30/YWxpYXM9JHtzZWFyY2hLZXl9YCksXG4gIHNlYXJjaEtleSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZ2V0TWFwcGluZ3MgPSAoc2VhcmNoS2V5OiBzdHJpbmcgPSAnJyk6IEFQSUFjdGlvbiA9PiAoe1xuICB0eXBlOiBHRVRfTUFQUElOR1MsXG4gIHJlcXVlc3Q6IChjbGllbnQ6IElIdHRwU2VydmljZSkgPT5cbiAgICBjbGllbnQuZ2V0KGAuLiR7QURfTk9ERV9BUEkuX01BUFBJTkdTfT9pbmRleD0ke3NlYXJjaEtleX1gKSxcbiAgc2VhcmNoS2V5LFxufSk7XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hFUyA9IChyZXF1ZXN0RGF0YTogYW55KTogQVBJQWN0aW9uID0+ICh7XG4gIHR5cGU6IFNFQVJDSF9FUyxcbiAgcmVxdWVzdDogKGNsaWVudDogSUh0dHBTZXJ2aWNlKSA9PlxuICAgIGNsaWVudC5wb3N0KGAuLiR7QURfTk9ERV9BUEkuX1NFQVJDSH1gLCByZXF1ZXN0RGF0YSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGdldFByaW9yaXRpemVkSW5kaWNlcyA9IChzZWFyY2hLZXk6IHN0cmluZyk6IFRodW5rQWN0aW9uID0+IGFzeW5jIChcbiAgZGlzcGF0Y2gsXG4gIGdldFN0YXRlXG4pID0+IHtcbiAgLy9GZXRjaCBJbmRpY2VzIGFuZCBBbGlhc2VzIHdpdGggdGV4dCBwcm92aWRlZFxuICBhd2FpdCBkaXNwYXRjaChnZXRJbmRpY2VzKHNlYXJjaEtleSkpO1xuICBhd2FpdCBkaXNwYXRjaChnZXRBbGlhc2VzKHNlYXJjaEtleSkpO1xuICBjb25zdCBlc1N0YXRlID0gZ2V0U3RhdGUoKS5lbGFzdGljc2VhcmNoO1xuICBjb25zdCBleGFjdE1hdGNoZWRJbmRpY2VzID0gZXNTdGF0ZS5pbmRpY2VzO1xuICBjb25zdCBleGFjdE1hdGNoZWRBbGlhc2VzID0gZXNTdGF0ZS5hbGlhc2VzO1xuICBpZiAoZXhhY3RNYXRjaGVkQWxpYXNlcy5sZW5ndGggfHwgZXhhY3RNYXRjaGVkSW5kaWNlcy5sZW5ndGgpIHtcbiAgICAvL0lmIHdlIGhhdmUgZXhhY3QgbWF0Y2gganVzdCByZXR1cm4gdGhhdFxuICAgIHJldHVybiB7XG4gICAgICBpbmRpY2VzOiBleGFjdE1hdGNoZWRJbmRpY2VzLFxuICAgICAgYWxpYXNlczogZXhhY3RNYXRjaGVkQWxpYXNlcyxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vTm8gcmVzdWx0cyBmb3VuZCBmb3IgZXhhY3QgbWF0Y2gsIGFwcGVuZCB3aWxkQ2FyZCBhbmQgZ2V0IHBhcnRpYWwgbWF0Y2hlcyBpZiBleGlzdHNcbiAgICBhd2FpdCBkaXNwYXRjaChnZXRJbmRpY2VzKGAke3NlYXJjaEtleX0qYCkpO1xuICAgIGF3YWl0IGRpc3BhdGNoKGdldEFsaWFzZXMoYCR7c2VhcmNoS2V5fSpgKSk7XG4gICAgY29uc3QgZXNTdGF0ZSA9IGdldFN0YXRlKCkuZWxhc3RpY3NlYXJjaDtcbiAgICBjb25zdCBwYXJ0aWFsTWF0Y2hlZEluZGljZXMgPSBlc1N0YXRlLmluZGljZXM7XG4gICAgY29uc3QgcGFydGlhbE1hdGNoZWRBbGlhc2VzID0gZXNTdGF0ZS5hbGlhc2VzO1xuICAgIGlmIChwYXJ0aWFsTWF0Y2hlZEFsaWFzZXMubGVuZ3RoIHx8IHBhcnRpYWxNYXRjaGVkSW5kaWNlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluZGljZXM6IHBhcnRpYWxNYXRjaGVkSW5kaWNlcyxcbiAgICAgICAgYWxpYXNlczogcGFydGlhbE1hdGNoZWRBbGlhc2VzLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXI7XG4iXX0=