function cov_888xw4ofj() {
  var path = "/Users/yizheliu/casesafe/workspace/kibana-780/kibana/plugins/anomaly-detection-kibana-plugin/public/redux/middleware/clientMiddleware.ts";
  var hash = "76a96d97e2cc4570177598d5a0ecfd3466125ab8";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/yizheliu/casesafe/workspace/kibana-780/kibana/plugins/anomaly-detection-kibana-plugin/public/redux/middleware/clientMiddleware.ts",
    statementMap: {
      "0": {
        start: {
          line: 23,
          column: 20
        },
        end: {
          line: 25,
          column: 69
        }
      },
      "1": {
        start: {
          line: 25,
          column: 26
        },
        end: {
          line: 25,
          column: 69
        }
      },
      "2": {
        start: {
          line: 30,
          column: 2
        },
        end: {
          line: 58,
          column: 4
        }
      },
      "3": {
        start: {
          line: 30,
          column: 69
        },
        end: {
          line: 58,
          column: 3
        }
      },
      "4": {
        start: {
          line: 32,
          column: 7
        },
        end: {
          line: 58,
          column: 3
        }
      },
      "5": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 36,
          column: 5
        }
      },
      "6": {
        start: {
          line: 35,
          column: 6
        },
        end: {
          line: 35,
          column: 40
        }
      },
      "7": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 57,
          column: 5
        }
      },
      "8": {
        start: {
          line: 38,
          column: 41
        },
        end: {
          line: 38,
          column: 47
        }
      },
      "9": {
        start: {
          line: 39,
          column: 6
        },
        end: {
          line: 54,
          column: 7
        }
      },
      "10": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 51
        }
      },
      "11": {
        start: {
          line: 42,
          column: 23
        },
        end: {
          line: 42,
          column: 44
        }
      },
      "12": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 50,
          column: 9
        }
      },
      "13": {
        start: {
          line: 45,
          column: 10
        },
        end: {
          line: 45,
          column: 61
        }
      },
      "14": {
        start: {
          line: 46,
          column: 10
        },
        end: {
          line: 46,
          column: 24
        }
      },
      "15": {
        start: {
          line: 49,
          column: 10
        },
        end: {
          line: 49,
          column: 46
        }
      },
      "16": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 52,
          column: 58
        }
      },
      "17": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 20
        }
      },
      "18": {
        start: {
          line: 56,
          column: 6
        },
        end: {
          line: 56,
          column: 26
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 23,
            column: 20
          },
          end: {
            line: 23,
            column: 21
          }
        },
        loc: {
          start: {
            line: 25,
            column: 26
          },
          end: {
            line: 25,
            column: 69
          }
        },
        line: 25
      },
      "1": {
        name: "clientMiddleware",
        decl: {
          start: {
            line: 29,
            column: 24
          },
          end: {
            line: 29,
            column: 40
          }
        },
        loc: {
          start: {
            line: 29,
            column: 70
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 29
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 30,
            column: 9
          },
          end: {
            line: 30,
            column: 10
          }
        },
        loc: {
          start: {
            line: 30,
            column: 69
          },
          end: {
            line: 58,
            column: 3
          }
        },
        line: 30
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 30,
            column: 69
          },
          end: {
            line: 30,
            column: 70
          }
        },
        loc: {
          start: {
            line: 32,
            column: 7
          },
          end: {
            line: 58,
            column: 3
          }
        },
        line: 32
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 32,
            column: 7
          },
          end: {
            line: 32,
            column: 8
          }
        },
        loc: {
          start: {
            line: 32,
            column: 76
          },
          end: {
            line: 58,
            column: 3
          }
        },
        line: 32
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        }, {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        }],
        line: 33
      },
      "1": {
        loc: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        }, {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        }],
        line: 37
      },
      "2": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 50,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 50,
            column: 9
          }
        }, {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 50,
            column: 9
          }
        }],
        line: 44
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "76a96d97e2cc4570177598d5a0ecfd3466125ab8"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_888xw4ofj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_888xw4ofj();

/*
 * Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * or in the "license" file accompanying this file. This file is distributed
 * on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
 * express or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
import { Dispatch, MiddlewareAPI, AnyAction } from 'redux';
import { IHttpService, APIAction, ThunkAction } from './types';
import { get } from 'lodash';
/*
  This a middleware for Redux. To understand this read : http://redux.js.org/docs/advanced/Middleware.html
*/

cov_888xw4ofj().s[0]++;

const isAPIAction = (action: APIAction | Function | AnyAction): action is APIAction => {
  cov_888xw4ofj().f[0]++;
  cov_888xw4ofj().s[1]++;
  return (action as APIAction).request !== undefined;
}; //TODO: Find better way to define return type and avoid ANY.


export default function clientMiddleware<State>(client: IHttpService) {
  cov_888xw4ofj().f[1]++;
  cov_888xw4ofj().s[2]++;
  return ({
    dispatch,
    getState
  }: MiddlewareAPI<Dispatch, State>) => {
    cov_888xw4ofj().f[2]++;
    cov_888xw4ofj().s[3]++;
    return (next: Dispatch) => {
      cov_888xw4ofj().f[3]++;
      cov_888xw4ofj().s[4]++;
      return async (action: APIAction | ThunkAction | AnyAction): Promise<any> => {
        cov_888xw4ofj().f[4]++;
        cov_888xw4ofj().s[5]++;

        if (typeof action === 'function') {
          cov_888xw4ofj().b[0][0]++;
          cov_888xw4ofj().s[6]++;
          //@ts-ignore
          return action(dispatch, getState);
        } else {
          cov_888xw4ofj().b[0][1]++;
        }

        cov_888xw4ofj().s[7]++;

        if (isAPIAction(action)) {
          cov_888xw4ofj().b[1][0]++;
          const {
            request,
            type,
            ...rest
          } = (cov_888xw4ofj().s[8]++, action);
          cov_888xw4ofj().s[9]++;

          try {
            cov_888xw4ofj().s[10]++;
            // Network call
            next({ ...rest,
              type: `${type}_REQUEST`
            });
            const result = (cov_888xw4ofj().s[11]++, await request(client)); //@ts-ignore

            cov_888xw4ofj().s[12]++;

            if (get(result, 'data.ok', true)) {
              cov_888xw4ofj().b[2][0]++;
              cov_888xw4ofj().s[13]++;
              next({ ...rest,
                result,
                type: `${type}_SUCCESS`
              });
              cov_888xw4ofj().s[14]++;
              return result;
            } else {
              cov_888xw4ofj().b[2][1]++;
              cov_888xw4ofj().s[15]++;
              //@ts-ignore
              throw get(result, 'data.error', '');
            }
          } catch (error) {
            cov_888xw4ofj().s[16]++;
            next({ ...rest,
              error,
              type: `${type}_FAILURE`
            });
            cov_888xw4ofj().s[17]++;
            throw error;
          }
        } else {
          cov_888xw4ofj().b[1][1]++;
          cov_888xw4ofj().s[18]++;
          return next(action);
        }
      };
    };
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudE1pZGRsZXdhcmUudHMiXSwibmFtZXMiOlsiRGlzcGF0Y2giLCJNaWRkbGV3YXJlQVBJIiwiQW55QWN0aW9uIiwiSUh0dHBTZXJ2aWNlIiwiQVBJQWN0aW9uIiwiVGh1bmtBY3Rpb24iLCJnZXQiLCJpc0FQSUFjdGlvbiIsImFjdGlvbiIsIkZ1bmN0aW9uIiwicmVxdWVzdCIsInVuZGVmaW5lZCIsImNsaWVudE1pZGRsZXdhcmUiLCJjbGllbnQiLCJkaXNwYXRjaCIsImdldFN0YXRlIiwiU3RhdGUiLCJuZXh0IiwiUHJvbWlzZSIsInR5cGUiLCJyZXN0IiwicmVzdWx0IiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlWTs7Ozs7Ozs7OztBQWZaOzs7Ozs7Ozs7Ozs7OztBQWVBLFNBQVNBLFFBQVQsRUFBbUJDLGFBQW5CLEVBQWtDQyxTQUFsQyxRQUFtRCxPQUFuRDtBQUNBLFNBQVNDLFlBQVQsRUFBdUJDLFNBQXZCLEVBQWtDQyxXQUFsQyxRQUFxRCxTQUFyRDtBQUNBLFNBQVNDLEdBQVQsUUFBb0IsUUFBcEI7QUFDQTs7Ozs7O0FBSUEsTUFBTUMsV0FBVyxHQUFHLENBQ2xCQyxNQUFNLEVBQUVKLFNBQVMsR0FBR0ssUUFBSCxHQUFjUCxTQURiLENBRW5CLEVBQUVNLE1BQUYsSUFBWUosU0FGTyxJQUVNO0FBQUE7QUFBQTtBQUFBLFVBQUNJLE1BQU0sSUFBSUosU0FBWCxFQUFzQk0sT0FBdEIsS0FBa0NDLFNBQWxDO0FBQTJDLENBRnJFLEMsQ0FJQTs7O0FBRUEsZUFBZSxTQUFTQyxnQkFBZ0IsQ0FBQyxLQUFELENBQXpCLENBQWlDQyxNQUFNLEVBQUVWLFlBQXpDLEVBQXVEO0FBQUE7QUFBQTtBQUNwRSxTQUFPLENBQUM7QUFBRVcsSUFBQUEsUUFBRjtBQUFZQyxJQUFBQTtBQUFaLEdBQXNCLEVBQUVkLGFBQWEsQ0FBQ0QsUUFBRCxFQUFXZ0IsS0FBWCxDQUF0QyxLQUE0RDtBQUFBO0FBQUE7QUFBQSxZQUNqRUMsSUFBSSxFQUFFakIsUUFEMkQsS0FFOUQ7QUFBQTtBQUFBO0FBQUEsb0JBQU9RLE1BQU0sRUFBRUosU0FBUyxHQUFHQyxXQUFILEdBQWlCSCxTQUF6QyxDQUFtRCxFQUFFZ0IsT0FBTyxDQUFDLEdBQUQsQ0FBNUQsSUFBcUU7QUFBQTtBQUFBOztBQUN4RSxZQUFJLE9BQU9WLE1BQVAsS0FBa0IsVUFBdEIsRUFBa0M7QUFBQTtBQUFBO0FBQ2hDO0FBQ0EsaUJBQU9BLE1BQU0sQ0FBQ00sUUFBRCxFQUFXQyxRQUFYLENBQWI7QUFDRCxTQUhEO0FBQUE7QUFBQTs7QUFEd0U7O0FBS3hFLFlBQUlSLFdBQVcsQ0FBQ0MsTUFBRCxDQUFmLEVBQXlCO0FBQUE7QUFDdkIsZ0JBQU07QUFBRUUsWUFBQUEsT0FBRjtBQUFXUyxZQUFBQSxJQUFYO0FBQWlCLGVBQUdDO0FBQXBCLHVDQUE2QlosTUFBN0IsQ0FBTjtBQUR1Qjs7QUFFdkIsY0FBSTtBQUFBO0FBQ0Y7QUFDQVMsWUFBQUEsSUFBSSxDQUFDLEVBQUUsR0FBR0csSUFBTDtBQUFXRCxjQUFBQSxJQUFJLEVBQUcsR0FBRUEsSUFBSztBQUF6QixhQUFELENBQUo7QUFDQSxrQkFBTUUsTUFBTSw2QkFBRyxNQUFNWCxPQUFPLENBQUNHLE1BQUQsQ0FBaEIsQ0FBWixDQUhFLENBSUY7O0FBSkU7O0FBS0YsZ0JBQUlQLEdBQUcsQ0FBQ2UsTUFBRCxFQUFTLFNBQVQsRUFBb0IsSUFBcEIsQ0FBUCxFQUFrQztBQUFBO0FBQUE7QUFDaENKLGNBQUFBLElBQUksQ0FBQyxFQUFFLEdBQUdHLElBQUw7QUFBV0MsZ0JBQUFBLE1BQVg7QUFBbUJGLGdCQUFBQSxJQUFJLEVBQUcsR0FBRUEsSUFBSztBQUFqQyxlQUFELENBQUo7QUFEZ0M7QUFFaEMscUJBQU9FLE1BQVA7QUFDRCxhQUhELE1BR087QUFBQTtBQUFBO0FBQ0w7QUFDQSxvQkFBTWYsR0FBRyxDQUFDZSxNQUFELEVBQVMsWUFBVCxFQUF1QixFQUF2QixDQUFUO0FBQ0Q7QUFDRixXQVpELENBWUUsT0FBT0MsS0FBUCxFQUFjO0FBQUE7QUFDZEwsWUFBQUEsSUFBSSxDQUFDLEVBQUUsR0FBR0csSUFBTDtBQUFXRSxjQUFBQSxLQUFYO0FBQWtCSCxjQUFBQSxJQUFJLEVBQUcsR0FBRUEsSUFBSztBQUFoQyxhQUFELENBQUo7QUFEYztBQUVkLGtCQUFNRyxLQUFOO0FBQ0Q7QUFDRixTQWxCRCxNQWtCTztBQUFBO0FBQUE7QUFDTCxpQkFBT0wsSUFBSSxDQUFDVCxNQUFELENBQVg7QUFDRDtBQUNGLE9BMUJJO0FBMEJKLEtBNUJrRTtBQTRCbEUsR0E1QkQ7QUE2QkQiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTkgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpLlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogQSBjb3B5IG9mIHRoZSBMaWNlbnNlIGlzIGxvY2F0ZWQgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBvciBpbiB0aGUgXCJsaWNlbnNlXCIgZmlsZSBhY2NvbXBhbnlpbmcgdGhpcyBmaWxlLiBUaGlzIGZpbGUgaXMgZGlzdHJpYnV0ZWRcbiAqIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlclxuICogZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmdcbiAqIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEaXNwYXRjaCwgTWlkZGxld2FyZUFQSSwgQW55QWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgSUh0dHBTZXJ2aWNlLCBBUElBY3Rpb24sIFRodW5rQWN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gnO1xuLypcbiAgVGhpcyBhIG1pZGRsZXdhcmUgZm9yIFJlZHV4LiBUbyB1bmRlcnN0YW5kIHRoaXMgcmVhZCA6IGh0dHA6Ly9yZWR1eC5qcy5vcmcvZG9jcy9hZHZhbmNlZC9NaWRkbGV3YXJlLmh0bWxcbiovXG5cbmNvbnN0IGlzQVBJQWN0aW9uID0gKFxuICBhY3Rpb246IEFQSUFjdGlvbiB8IEZ1bmN0aW9uIHwgQW55QWN0aW9uXG4pOiBhY3Rpb24gaXMgQVBJQWN0aW9uID0+IChhY3Rpb24gYXMgQVBJQWN0aW9uKS5yZXF1ZXN0ICE9PSB1bmRlZmluZWQ7XG5cbi8vVE9ETzogRmluZCBiZXR0ZXIgd2F5IHRvIGRlZmluZSByZXR1cm4gdHlwZSBhbmQgYXZvaWQgQU5ZLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGllbnRNaWRkbGV3YXJlPFN0YXRlPihjbGllbnQ6IElIdHRwU2VydmljZSkge1xuICByZXR1cm4gKHsgZGlzcGF0Y2gsIGdldFN0YXRlIH06IE1pZGRsZXdhcmVBUEk8RGlzcGF0Y2gsIFN0YXRlPikgPT4gKFxuICAgIG5leHQ6IERpc3BhdGNoXG4gICkgPT4gYXN5bmMgKGFjdGlvbjogQVBJQWN0aW9uIHwgVGh1bmtBY3Rpb24gfCBBbnlBY3Rpb24pOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICB9XG4gICAgaWYgKGlzQVBJQWN0aW9uKGFjdGlvbikpIHtcbiAgICAgIGNvbnN0IHsgcmVxdWVzdCwgdHlwZSwgLi4ucmVzdCB9ID0gYWN0aW9uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gTmV0d29yayBjYWxsXG4gICAgICAgIG5leHQoeyAuLi5yZXN0LCB0eXBlOiBgJHt0eXBlfV9SRVFVRVNUYCB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdChjbGllbnQpO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKGdldChyZXN1bHQsICdkYXRhLm9rJywgdHJ1ZSkpIHtcbiAgICAgICAgICBuZXh0KHsgLi4ucmVzdCwgcmVzdWx0LCB0eXBlOiBgJHt0eXBlfV9TVUNDRVNTYCB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgIHRocm93IGdldChyZXN1bHQsICdkYXRhLmVycm9yJywgJycpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBuZXh0KHsgLi4ucmVzdCwgZXJyb3IsIHR5cGU6IGAke3R5cGV9X0ZBSUxVUkVgIH0pO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICB9XG4gIH07XG59XG4iXX0=